## upload

The `uploadData` method uploads files into Amazon S3.

It returns a `{key: S3 Object key}` object on success:

```typescript
import { uploadData } from 'aws-amplify/storage';

try {
const response = await uploadData({
				key: filename,
				data: file,
				options: {
          accessLevel: 'private' | 'protected' | 'guest' , // defaults to `guest` 
          targetIdentityId?: string, // id of another user, if `level: protected`
					onProgress, // Optional progress callback.
				},
			});
  console.log('Key from Response: ', response?.result?.key);
} catch(error){
  console.log('Error : ', error)
}
```

### Public level

```typescript

import { uploadData } from 'aws-amplify/storage';
try {
const response = await uploadData({
				key: filename,
				data: file,
				options: {
          accessLevel: 'private' | 'protected' | 'guest' , // defaults to `guest` 
          targetIdentityId?: string, // id of another user, if `level: protected`
					onProgress, // Optional progress callback.
				},
			});
  console.log('Key from Response: ', response?.result?.key);
} catch(error){
  console.log('Error : ', error)
}
```

### Protected level of same user

```typescript
import { uploadData } from 'aws-amplify/storage';
try {
const response = await uploadData({
				key: filename,
				data: file,
				options: {
          accessLevel: 'protected' 
				},
			});
  console.log('Key from Response: ', response?.result?.key);
} catch(error){
  console.log('Error : ', error)
}
```

### Protected level of another user
```typescript
import { uploadData } from 'aws-amplify/storage';

try {
const response = await uploadData({
				key: filename,
				data: file,
				options: {
          accessLevel: 'protected' 
          targetIdentityId: 'XXXXXXX', // other user identityId
			}});
  console.log('Key from Response: ', response?.result?.key);
} catch(error){
  console.log('Error : ', error)
}


### Private level

```typescript

import { uploadData } from 'aws-amplify/storage';
try {
const response = await uploadData({
				key: filename,
				data: file,
				options: {
          accessLevel: 'private' 
          targetIdentityId: 'XXXXXXX', // other user identityId
			}});
  console.log('Key from Response: ', response?.result?.key);
} catch(error){
  console.log('Error : ', error)
}
```

### Monitor progress of upload

To track the progress of your upload, you can use the `onProgress` in options:

```typescript
import { uploadData } from 'aws-amplify/storage';

const response = uploadData({
				key: filename,
				data: file,
				options: {
					onProgress: ({ transferredBytes, totalBytes }) => {
						if (totalBytes) {
							console.log(
								`Upload progress ${(transferredBytes / totalBytes) * 100} %`
							);
						}
					},
				},
			});
```

